---
category: perl
layout: post
tags: []
title: Template Toolkit &amp;&amp; random
---
{% include JB/setup %}

在我的 journal Index 页上往下数四行，会出现 Larry Wall 的一些语言。本来就一句<br /><pre>Call me bored, but don't call me boring. -- Larry Wall</pre>后来想想应该多增加一点，且变成随机出现。一想到随机，我第一个想到的就是 <a href="http://search.cpan.org/perldoc?List::Util">List::Util</a> , 那里面有个 shuffle 函数用以打乱 list 的次序。<br />当然这不是唯一选择，或许也不是最好的选择。不过或许也算凑巧， CPAN 上还是有它的 Template Plugin: <a href="http://search.cpan.org/perldoc?Template::Plugin::ListUtil">Template::Plugin::ListUtil</a> <p />放到里面的代码很简单，大致就是：<br /><pre>[% USE ListUtil %]<p />&lt;style><br />.quotes {<br /> &nbsp; &nbsp;white-space: -moz-pre-wrap;  /* Mozilla, supported since 1999 */<br /> &nbsp; &nbsp;white-space: -pre-wrap;      /* Opera 4 - 6 */<br /> &nbsp; &nbsp;white-space: -o-pre-wrap;    /* Opera 7 */<br /> &nbsp; &nbsp;white-space: pre-wrap;       /* CSS3 - Text module (Candidate Recommendation)<br />                                 http://www.w3.org/TR/css3-text/#white-space */<br /> &nbsp; &nbsp;word-wrap: break-word;       /* IE 5.5+ */<br />}<br />&lt;/style><p />[% quote_words = [ <br /> "Call me bored, but don't call me boring. -- Larry Wall",<br /> "I don't know if it's what you want, but it's what you get.  :-)<br />             -- Larry Wall in &lt;10502@jpl-devvax.JPL.NASA.GOV>",<br /> "I think it's a new feature.  Don't tell anyone it was an accident.  :-)<br />         -- Larry Wall on s/foo/bar/eieio in &lt;10911@jpl-devvax.JPL.NASA.GOV>",<br /> "Obviously I was either onto something, or on something. -- Larry Wall",<br /> "The following two statements are usually both true:<br />  There's not enough documentation.<br />  There's too much documentation. -- Larry Wall",<br /> "If someone stinks, view it as a reason to help them, not a reason to avoid them. -- Larry Wall",<br /> "In general, if you think something isn't in Perl, try it out, because it usually is. :-)<br />    --Larry Wall in &lt;1991Jul31.174523.9447@netlabs.com>"<br /> ] %]<p />&lt;div class='quotes'>[% ListUtil.random(quote_words) %]&lt;/div><br /></pre>后来又把右边浮动框的颜色也随机化了一下。<p />大致也就这样。看了一点 Perl Template Toolkit 的 Chapter 5. Filters