---
category: perl
layout: post
tags:
  - CPAN
  - git
  - perl
title: Net-GitHub 0.40_01
---
{% include JB/setup %}

it's a quite long story. but it's all about <a href="https://metacpan.org/module/Net::GitHub">Net::GitHub</a><div><br /></div><div>Github released their&nbsp;<a href="http://developer.github.com/">V3 API</a>&nbsp;few months ago.<br /><div><br /></div><div>the reason why I didn't update the module is super simple, I'm kind busy recently. my wife is during pregnancy. we'll have another kid 2 months later. and I even don't use in my daily life. I wrote it because I enjoy writing stuff for people.<br /><div><br /></div><div>There is a CPAN module&nbsp;<a href="https://metacpan.org/module/Pithub">Pithub</a>. it is great. even he is reinventing another wheels instead of contributing, I have to say: nice module, well written. I&nbsp;was thinking to add some notes in Net-GitHub to say that if you're looking for V3 implemention, please try Pithub.</div><div><br /></div><div>I changed my idea suddenly after c9s patched the module for access_token supports. if I accept it and write POD for it, why not write V3 API too?</div><div><br /></div><div>Writing code for public is enjoyable. you can't write messy code because people use it and rate you as dumb guy. I don't want to be dumb so I have to be smarter.</div></div></div><div><br /></div><div>Writing code is easy and simple. The most hard part is to design the API. how it works so that user will feel comfortable to use it.</div><div><br /></div><div>Here comes few thoughts on Net-GitHub.</div><div><br /></div><div>1. raw query should be supported so if Github add any new API, people can at least use it without waiting for another release.</div><div><br /></div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div>use Net::GitHub;</div><div>my $gh = Net::GitHub-&gt;new( login =&gt; 'fayland', pass =&gt; 'secret' );</div><div><br /></div><div>my $data = $gh-&gt;query('/user');</div><div><div>$gh-&gt;query('PATCH', '/user', { bio =&gt; 'another Perl Programmer and Father' });</div><div>$gh-&gt;query('DELETE', '/user/emails', [ 'myemail@somewhere.com' ]);</div></div></blockquote><br /><div>so most of the methods is just a wrapper like:</div><div><br /></div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><div>sub emails {&nbsp;(shift)-&gt;query('/user/emails'); }</div></div><div><br /></div></blockquote>2. more than half of the Github API is binded with :user/:repo. but it will be really very boring to type user/repo for every call.<div>but for one-off call, pass user/repo should be better. so both of them should be supported.</div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><br /></div><div>$gh-&gt;set_default_user_repo('fayland', 'perl-net-github');</div><div>my @issues = $gh-&gt;issue-&gt;issues;</div><div>my @pulls &nbsp; &nbsp;= $gh-&gt;pull_request-&gt;pulls;</div><div><br /></div><div># or one-off call</div><div>my @contributors = $gh-&gt;respo-&gt;contributors($user, $repo);</div><div><br /></div></blockquote>I kicked out the version to public today. but there are still a lot of stuff missing. I released it because I want to hear some feedback from the users. below are some todos.<div>1. Orgs, Gists, Git Data</div><div>2. Pager and MIME types</div><div>3. Moose handles like $gh-&gt;pulls = $gh-&gt;pull_request-&gt;pulls to ease keyboard.</div><div>4. method builder so there isn't too much duplication code like now.</div><div><br /></div><div>but I may not be able to finish all of them soon. so if anyone is willing to help, please fork on&nbsp;<a href="https://github.com/fayland/perl-net-github">https://github.com/fayland/perl-net-github</a>&nbsp;and patches are welcome!</div><div><br /></div><div>Thanks</div><div><br /></div>